{% extends 'base.html.twig' %}

{% block title %}Build
{% endblock %}

{% block main %}
	<main class="main-bg-s">
		<section class="secBuildShow">
			<div class="hautShow">
				<div>
					<img src="{{ build.image ? vich_uploader_asset(build.image, 'imageFile') : asset('img/placeholder/prebuild.png') }}" alt="Image du build de {{ build.user.pseudo }}">
				</div>
				<div>
				{% if build.name ?? false %}
				<h1> {{ build.name }} </h1>
					{% else %}
					<h1>Build de
						{{ build.user.pseudo }}</h1>
					{% endif %}
					<p>{{ build.description }}</p>
					<div>
						<p>Prix total du build :
							{{ build.totalPrice }}€</p>
						{% if app.user and (app.user == build.user or is_granted('ROLE_ADMIN')) %}
							<a href="{{ path('app_build_edit', { id: build.id }) }}" class="btn btn-warning" aria-label="Modifier ce build">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-icon lucide-pencil" role="img" aria-hidden="true"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"/><path d="m15 5 4 4"/></svg>
							</a>
						{% endif %}
					</div>
				</div>
			</div>
			<article class="compo-card" data-ascin="{{ build.cpu.ascin }}">
				<div>
					<div class="compo-card-img">
						<img src="" alt="Image de processeur">
					</div>
					<div>
						<p>{{build.cpu.marque}}
							{{build.cpu.modele}}</p>
						<p class="compo-card-price">{{build.cpu.prix}}€</p>
						<p class="compo-card-note"></p>
						<a class="compo-card-revendeur" href="">Amazon</a>
					</div>
				</div>
				<div>
					<p>Socket :
						{{ build.cpu.socket }}</p>
					<p>Tdp :
						{{ build.cpu.tdp }}W</p>
				</div>
			</article>
			<article class="compo-card" data-ascin="{{ build.motherboard.ascin }}">
				<div>
					<div class="compo-card-img">
						<img src="" alt="Image de carte mère">
					</div>
					<div>
						<p>{{build.motherboard.marque}}
							{{build.motherboard.modele}}</p>
						<p class="compo-card-price">{{build.motherboard.prix}}€</p>
						<p class="compo-card-note"></p>
						<a class="compo-card-revendeur" href="">Amazon</a>
					</div>
				</div>
				<div>
					<p>Type :
						{{build.motherboard.formFactor }}</p>
					<p>Socket :
						{{ build.motherboard.socket}}</p>
					<p>Type de mémoire :
						{{ build.motherboard.memoryType }}</p>
					<p>Mémoire max :
						{{ build.motherboard.memoryMax }}GB</p>
				</div>
			</article>
			{% for gpu in build.gpu %}


				<article class="compo-card" data-ascin="{{ gpu.ascin }}">
					<div>
						<div class="compo-card-img">
							<img src="" alt="Image de carte graphique">
						</div>
						<div>
							<p>{{gpu.marque}}
								{{gpu.modele}}</p>
							<p class="compo-card-price">{{gpu.prix}}€</p>
							<p class="compo-card-note"></p>
							<a class="compo-card-revendeur" href="">Amazon</a>
						</div>
					</div>
					<div>
						<p>Module PCie :
							{{ gpu.pcieModule }}</p>
						<p>Longueur :
							{{ gpu.length}}mm</p>
						<p>Tdp :
							{{ gpu.tdp }}W</p>
					</div>
				</article>
			{% endfor %}
			{% for ram in build.ram %}
				<article class="compo-card" data-ascin="{{ ram.ascin }}">
					<div>
						<div class="compo-card-img">
							<img src="" alt="Image de mémoire">
						</div>
						<div>
							<p>{{ram.marque}}
								{{ram.modele}}</p>
							<p class="compo-card-price">{{ram.prix}}€</p>
							<p class="compo-card-note"></p>
							<a class="compo-card-revendeur" href="">Amazon</a>
						</div>
					</div>
					<div>
						<p>Type de mémoire :
							{{ ram.type }}</p>
						<p>Nombre de module :
							{{ ram.nbModule}}</p>
						<p>Total GB :
							{{ ram.total }}
							GB</p>
					</div>
				</article>
			{% endfor %}
			{% for storage in build.storage %}
				<article class="compo-card" data-ascin="{{ storage.ascin }}">
					<div>
						<div class="compo-card-img">
							<img src="" alt="Image de stockage">
						</div>
						<div>
							<p>{{storage.marque}}
								{{storage.modele}}</p>
							<p class="compo-card-price">{{storage.prix}}€</p>
							<p class="compo-card-note"></p>
							<a class="compo-card-revendeur" href="">Amazon</a>
						</div>
					</div>
					<div>
						<p>Type de stockage :
							{{ storage.type }}</p>
						<p>Interface :
							{{ storage.interface}}</p>
					</div>
				</article>
			{% endfor %}
			{% if build.cooler ?? null %}

				<article class="compo-card" data-ascin="{{ build.cooler.ascin }}">
					<div>
						<div class="compo-card-img">
							<img src="" alt="Image de système de refroidissement">
						</div>
						<div>
							<p>{{build.cooler.marque}}
								{{build.cooler.modele}}</p>
							<p class="compo-card-price">{{build.cooler.prix}}€</p>
							<p class="compo-card-note"></p>
							<a class="compo-card-revendeur" href="">Amazon</a>
						</div>
					</div>
					<div>
						<p>Nombre de ventilateur :
							{{build.cooler.nbFan }}</p>
						<p>Tdp :
							{{ build.cooler.tdp}}W</p>
						<p>Socket :
							{{ build.cooler.socket }}</p>
					</div>
				</article>
			{% endif %}
			<article class="compo-card" data-ascin="{{ build.psu.ascin }}">
				<div>
					<div class="compo-card-img">
						<img src="" alt="Image d'alimentation">
					</div>
					<div>
						<p>{{build.psu.marque}}
							{{build.psu.modele}}</p>
						<p class="compo-card-price">{{build.psu.prix}}€</p>
						<p class="compo-card-note"></p>
						<a class="compo-card-revendeur" href="">Amazon</a>
					</div>
				</div>
				<div>
					<p>Wattage :
						{{ build.psu.wattage }}W</p>
					<p>Connecteur PCie :
						{{ build.psu.pcieConnector}}</p>
					<p>Connecteur EPS :
						{{ build.psu.epsConnector }}</p>
					<p>Connecteur SATA :
						{{ build.psu.sataConnector }}</p>
				</div>
			</article>
			<article class="compo-card" data-ascin="{{ build.boitier.ascin }}">
				<div>
					<div class="compo-card-img">
						<img src="" alt="Image de boitier">
					</div>
					<div>
						<p>{{build.boitier.marque}}
							{{build.boitier.modele}}</p>
						<p class="compo-card-price">{{build.boitier.prix}}€</p>
						<p class="compo-card-note"></p>
						<a class="compo-card-revendeur" href="">Amazon</a>
					</div>
				</div>
				<div>
					<p>Longueur :
						{{ build.boitier.length }}
						mm</p>
					<p>Largeur :
						{{ build.boitier.width }}
						mm</p>
					<p>Hauteur :
						{{ build.boitier.heigth }}
						mm</p>
					<p>Emplacement de ventilateur :
						{{ build.boitier.fanSlot }}</p>
				</div>
			</article>
			{% if build.fan ?? null %}

				{% for fan in build.fan %}
					<article class="compo-card" data-ascin="{{ fan.ascin }}">
						<div>
							<div class="compo-card-img">
								<img src="" alt="Image de ventilateur">
							</div>
							<div>
								<p>{{fan.marque}}
									{{fan.modele}}</p>
								<p class="compo-card-price">{{fan.prix}}€</p>
								<p class="compo-card-note"></p>
								<a class="compo-card-revendeur" href="">Amazon</a>
							</div>
						</div>
						<div>
							<p>Largeur :
								{{ fan.width }}mm</p>
							<p>Quantité :
								{{ fan.quantity}}</p>
						</div>
					</article>
				{% endfor %}
			{% endif %}
		</section>
	</main>
{% endblock %}
